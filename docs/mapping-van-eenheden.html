<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Hoofdstuk 5 Mapping van eenheden | AQUO2SDN mapping</title>
<meta name="author" content="Willem Stolte">
<meta name="description" content="5.1 Welke eenheden komen voor? Er is uitgegaan van de volgende lijsten met eenheden: BODC - De vocabulary P06 AQUO - De door AQUO beheerde lijst Eenheid DDL - Eenheden in de metadata van in de...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Hoofdstuk 5 Mapping van eenheden | AQUO2SDN mapping">
<meta property="og:type" content="book">
<meta property="og:description" content="5.1 Welke eenheden komen voor? Er is uitgegaan van de volgende lijsten met eenheden: BODC - De vocabulary P06 AQUO - De door AQUO beheerde lijst Eenheid DDL - Eenheden in de metadata van in de...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hoofdstuk 5 Mapping van eenheden | AQUO2SDN mapping">
<meta name="twitter:description" content="5.1 Welke eenheden komen voor? Er is uitgegaan van de volgende lijsten met eenheden: BODC - De vocabulary P06 AQUO - De door AQUO beheerde lijst Eenheid DDL - Eenheden in de metadata van in de...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">AQUO2SDN mapping</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Voorwoord</a></li>
<li><a class="" href="aquo.html"><span class="header-section-number">2</span> AQUO</a></li>
<li><a class="" href="bodc-semantic-standard.html"><span class="header-section-number">3</span> BODC semantic standard</a></li>
<li><a class="" href="mapping-van-wat-tabellen.html"><span class="header-section-number">4</span> Mapping van “wat” tabellen</a></li>
<li><a class="active" href="mapping-van-eenheden.html"><span class="header-section-number">5</span> Mapping van eenheden</a></li>
<li><a class="" href="kwaliteitsoordeel.html"><span class="header-section-number">6</span> Kwaliteitsoordeel</a></li>
<li><a class="" href="bemonstering.html"><span class="header-section-number">7</span> Bemonstering</a></li>
<li><a class="" href="biologie-overig.html"><span class="header-section-number">8</span> Biologie overig</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/Aquo-standaard/LinkingStandards/tree/aquo2sdn">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="mapping-van-eenheden" class="section level1" number="5">
<h1>
<span class="header-section-number">Hoofdstuk 5</span> Mapping van eenheden<a class="anchor" aria-label="anchor" href="#mapping-van-eenheden"><i class="fas fa-link"></i></a>
</h1>
<div id="welke-eenheden-komen-voor" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Welke eenheden komen voor?<a class="anchor" aria-label="anchor" href="#welke-eenheden-komen-voor"><i class="fas fa-link"></i></a>
</h2>
<p>Er is uitgegaan van de volgende lijsten met eenheden:</p>
<ul>
<li>BODC - De vocabulary <a href="https://vocab.nerc.ac.uk/search_nvs/P06/">P06</a>
</li>
<li>AQUO - De door AQUO beheerde lijst <a href="https://www.aquo.nl/index.php/Id-04f4f467-021b-4218-baa8-9742ed977c61">Eenheid</a>
</li>
<li>DDL - Eenheden in de <a href="(https://rijkswaterstaat.github.io/wm-ws-dl/#ophalencatalogus)">metadata</a> van in de praktijk uitgeleverde gegevens uit de <a href="https://rijkswaterstaat.github.io/wm-ws-dl/#introduction">Data Distributielaag</a>
</li>
</ul>
<p>De eenheden in de DDL zouden moeten voldoen aan AQUO, de verwachting is dus dat we alle eenheden in DDL kunnen matchen met eenheden in AQUO.</p>
<div id="vergelijking-ddl-en-aquo" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Vergelijking DDL en AQUO<a class="anchor" aria-label="anchor" href="#vergelijking-ddl-en-aquo"><i class="fas fa-link"></i></a>
</h3>
<p>De verwachting is dat alle eenheden die in de DDL gebruikt worden in de AQUO Eenheid lijst voorkomen. Dit is onderzocht door de eenheidcodes van de DDL te vergelijken met de eenheidcodes in de AQUO tabel Eenheid. Verreweg de meeste eenheden uit de DDL werden teruggevonden in de AQUO tabel. Tabel <a href="#tab:missingDDL"><strong>??</strong></a> laat de eenheden zien die wel in de DDL gebruikt worden, maar niet teruggevonden konden worden in de AQUO Eenheid tabel, met de bijbehorende parameter.wat.omschrijving uit de DDL.</p>
<div class="rmdnote">
<p>Hierbij moet aangetekend worden dat de eenheid “/l” in dit geval ook gelijkgesteld kan worden met de eenheid “n/l”, die wel in de AQUO lijst voorkomt.</p>
<p>AANBEVELING: verander eenheid “/l” in “n/l” in de DDL.</p>
</div>
</div>
<div id="vergelijking-ddl-en-sdn-p0" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Vergelijking DDL en SDN (P0)<a class="anchor" aria-label="anchor" href="#vergelijking-ddl-en-sdn-p0"><i class="fas fa-link"></i></a>
</h3>
<p>Het “Eenheid.Code” veld uit de ddl tabel lijkt op het veld “altlabel” uit de SDN tabel. Hierbij zijn alle “^” (bijv. in g/m^2) tekens uit de SDN tabel voor de vergelijking verwijderd. Een eerste poging om de twee modellen te mappen wordt daarom gedaan op die twee velden. Het blijkt (tabel <a href="#tab:ddl-sdn-eenheden"><strong>??</strong></a>) dat er 30 codes precies gelijk zijn. De validiteit van deze mapping kan in de tabel <a href="#tab:ddl-sdn-eenheden"><strong>??</strong></a>) geïnspecteerd worden.</p>
<p>Eenheden uit de DDL waar met de automatische methode geen exacte match gevonden werd in de SDN eenhedentabel (23) staan in tabel <a href="#tab:DDL-SDN-antijoin"><strong>??</strong></a>.</p>
</div>
<div id="handmatige-mapping" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Handmatige mapping<a class="anchor" aria-label="anchor" href="#handmatige-mapping"><i class="fas fa-link"></i></a>
</h3>
<p>Voor de niet-gematchte eenheden uit tabel <a href="#tab:DDL-SDN-antijoin"><strong>??</strong></a> wordt hieronder een voorstel gedaan voor een handmatige mapping.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DDL_SDN_eenheid_hand</span> <span class="op">&lt;-</span> <span class="va">DDL_SDN_verschil</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>altlabel <span class="op">=</span> 
           <span class="fu">case_when</span><span class="op">(</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"mg"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># Grams (UGRM) en Micrograms (UGUG) komt wel voor</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"n"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># in BODC altijd gerelateerd aan volume of lengte</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"n/m2"</span> <span class="op">~</span> <span class="st">"#/m^2"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"n/l"</span> <span class="op">~</span> <span class="st">"#/l"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"DIMSLS"</span> <span class="op">~</span> <span class="st">""</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"graad"</span> <span class="op">~</span> <span class="st">"deg"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"oC"</span> <span class="op">~</span> <span class="st">"degC"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"/l"</span> <span class="op">~</span> <span class="st">"#/l"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"n/hm"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># (#/m komt wel voor)</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"FTU"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># komt ook niet in AQUO voor</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"JTU"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># komt ook niet in AQUO voor</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"meq/l"</span> <span class="op">~</span> <span class="st">"mEquiv/l"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"mHz"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># (Hz komt wel voor)</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"m3/d"</span> <span class="op">~</span> <span class="cn">NA_character_</span>,  <span class="co"># (m^3/s komt wel voor)</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"n/ml"</span> <span class="op">~</span> <span class="st">"#/ml"</span>,
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"oD"</span> <span class="op">~</span> <span class="cn">NA_character_</span>,  <span class="co"># (duitse graad, komt in mariene metingen niet voor)</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"RFU"</span> <span class="op">~</span> <span class="cn">NA_character_</span>, <span class="co"># komt ook niet in AQUO voor</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"U"</span> <span class="op">~</span> <span class="cn">NA_character_</span>,   <span class="co"># komt ook niet in AQUO voor</span>
             <span class="va">Eenheid.Code</span> <span class="op">==</span> <span class="st">"uE"</span>  <span class="op">~</span> <span class="cn">NA_character_</span>  <span class="co"># waarschijnlijk uE/cm^2/s, vraag is of het voorkomt in marien milieu</span>
           <span class="op">)</span>
         <span class="op">)</span></code></pre></div>
<p>Er is een probleem bij het mappen van de eenheid “DIMSLS” die in de DDL gebruikt wordt. Weliswaar is er een eenheid met preflabel = “Dimensionless” in de P06 tabel, maar dit leidt vermoedelijk niet tot een goede mapping.</p>
<p>De eenheid “DIMSLS” wordt in de DDL gebruikt voor de parameter.wat.omschrijvingen zoals in tabel <a href="#tab:DDL-DIMSLS"><strong>??</strong></a>). Hier zitten grootheden als Extinctie, Zuurgraad en Saliniteit tussen, die in SDN termen een eigen eenheid hebben. In de P06 tabel zijn de eenheden “pH units”, “per metre” en “g/kg” te vinden die gangbaar zijn voor respectievelijk Zuurgraad, Extinctie en Saliniteit. Een mapping hiervan kan in de huidige situatie niet alleen op grond van eenheidcode, maar moet ook de grootheid meenemen.</p>
<p>Afgezien van het feit dat er geen een-op-een mapping mogelijk is, is ook de meer inhoudelijke vraag belangrijk of “dimensieloos” wel informatief is in deze gevallen.</p>
<div class="rmdnote">
<p><strong>Aanbeveling</strong></p>
<p>De AQUO eenheidcode DIMSLS (Dimensieloos) die in de DDL gebruikt wordt is misschien formeel correct, maar is niet informatief. Bovendien zorgt dit ervoor dat eenheden niet te converteren zijn naar BODC termen. Het verdient daarom aanbeveling om deze te veranderen naar een meer informatieve eenheid. Voor een koppeling naar BODC (beperkt tot waarnemingen in mariene milie) zijn vooral eenheden voor de volgende grootheden van belang:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Grootheid</th>
<th>Huidige eenheid DDL</th>
<th>Voorstel nieuwe eenheid</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Saliniteit</td>
<td>DIMSLS</td>
<td>g/kg</td>
</tr>
<tr class="even">
<td>Zuurgraad</td>
<td>DIMSLS</td>
<td>pH-eenheid</td>
</tr>
<tr class="odd">
<td>Extinctie</td>
<td>DIMSLS</td>
<td>/m</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="uiteindelijke-mapping-van-eenheden." class="section level3" number="5.1.4">
<h3>
<span class="header-section-number">5.1.4</span> Uiteindelijke mapping van eenheden.<a class="anchor" aria-label="anchor" href="#uiteindelijke-mapping-van-eenheden."><i class="fas fa-link"></i></a>
</h3>
<p>Door de tabellen met de automatische en de handmatige mapping samen te voegen, wordt een mappingtabel gemaakt die zo veel mogelijk compleet is.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="mapping-van-wat-tabellen.html"><span class="header-section-number">4</span> Mapping van “wat” tabellen</a></div>
<div class="next"><a href="kwaliteitsoordeel.html"><span class="header-section-number">6</span> Kwaliteitsoordeel</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#mapping-van-eenheden"><span class="header-section-number">5</span> Mapping van eenheden</a></li>
<li>
<a class="nav-link" href="#welke-eenheden-komen-voor"><span class="header-section-number">5.1</span> Welke eenheden komen voor?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#vergelijking-ddl-en-aquo"><span class="header-section-number">5.1.1</span> Vergelijking DDL en AQUO</a></li>
<li><a class="nav-link" href="#vergelijking-ddl-en-sdn-p0"><span class="header-section-number">5.1.2</span> Vergelijking DDL en SDN (P0)</a></li>
<li><a class="nav-link" href="#handmatige-mapping"><span class="header-section-number">5.1.3</span> Handmatige mapping</a></li>
<li><a class="nav-link" href="#uiteindelijke-mapping-van-eenheden."><span class="header-section-number">5.1.4</span> Uiteindelijke mapping van eenheden.</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/Aquo-standaard/LinkingStandards/tree/aquo2sdn/blob/master/eenheden.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/Aquo-standaard/LinkingStandards/tree/aquo2sdn/edit/master/eenheden.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>AQUO2SDN mapping</strong>" was written by Willem Stolte. It was last built on 2022-07-20.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
